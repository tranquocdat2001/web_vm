
@using Utilities
@using PublicModel
@model ProductModelDetail

<div id="product">

    <div class="col-md-9">

        @*<div class="breadcrumb clearfix">
            <ul>
                <li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" class="home">
                    <a title="Đến trang chủ" href="/" itemprop="url"><span itemprop="title">Trang chủ</span></a>
                </li>
                <li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" class="category17 icon-li">
                    <div class="link-site-more">
                        <a title="" href="/san-pham/tom-33806" itemprop="url">
                            <span itemprop="title">T&#244;m</span>
                        </a>
                    </div>
                </li>
                <li class="productname icon-li"><strong>Cồi s&#242; điệp</strong> </li>
            </ul>
        </div>*@

        @Html.Action("Breadcrumb", "Category", new { cateId = Model.CateId })

        @if (Model != null)
        {
            <div class="product-detail clearfix relative">
                <!--Begin-->
                <div class="clearfix">
                    <div class="row">
                        <div class="col-md-6 col-sm-6 col-xs-12 product-image clearfix">
                            @*<div class="sp-loading">
                                <img src="~/Content/images/sp-loading.gif" alt=""><br>LOADING IMAGES
                            </div>*@
                            @*<div class="sp-wrap sp-non-touch" style="display: inline-block;">
                                <div class="sp-large">
                                    <a href="~/Content/demo/oc.jpg" class="ng-scope .sp-current-big">
                                        <img src="~/Content/demo/oc.jpg" />
                                    </a>
                                </div>
                            </div>*@
                            @*<div class="sp-wrap">
                                <a href="~/Content/demo/oc.jpg">
                                    <img src="~/Content/demo/oc.jpg" alt="" />
                                </a>
                            </div>*@
                            @Html.Partial("~/Views/Product/_DetailAvatar.cshtml")
                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-12 clearfix">
                            <h1 class="name m-b-5">@Model.Name</h1>
                            <div class="product_price p-b-10">
                                <div>
                                    <ins class="m-b-5">@Model.PriceFormat</ins>
                                    @*<div class="product_compare_at_price m-b-3">
                                        <span>Giá gốc: </span>
                                        <del>190,000đ</del>
                                    </div>
                                    <div class="product_price_sale m-b-3">
                                        <span>Giảm: </span>
                                        <span class="price_off">30,000đ</span>
                                    </div>*@
                                </div>
                            </div>
                            @*<div class="product_price p-b-10">
                                <ins class="m-b-5">Không có hàng</ins>
                            </div>*@
                            <div class="product-code p-b-10">Mã SP: @Model.Code</div>
                            <div class="des p-b-10">
                                @Html.Raw(Model.Description)
                            </div>
                            @*<div class="social">
                                <!-- AddThis Button BEGIN -->
                                <div class="addthis_toolbox addthis_default_style">
                                    <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
                                    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
                                    <a class="addthis_counter addthis_pill_style addthis_nonzero"></a>
                                </div>
                                <script type="text/javascript" src="/scripts/addthis/addthis_widget.js#pubid=ra-5334d6387b03b532"></script>
                                <!-- AddThis Button END -->
                            </div>*@
                            <div id="add-item-form" class="variants clearfix m-b-10 p-b-10">

                                @if (!string.IsNullOrEmpty(Model.Weight))
                                {
                                    <div class="select p-b-10 p-t-10 clearfix">
                                        <div class="selector-wrapper">
                                            <label>Khối lượng</label>
                                            <span class="title active">@Model.Weight</span>
                                            @*<span class="title">1kg</span>*@
                                        </div>
                                    </div>
                                }
                                @*<div class="clearfix product_quantity m-t-10 m-b-20">
                                    <label class="label_quantity m-b-5">Số lượng</label>
                                    <button class="button btn_minus b-r-0" ng-click="DownQuantity()">-</button>
                                    <input name="quantity" class="quantity text-center" min="1" value="1" type="number">
                                    <button class="button btn_plus b-l-0" ng-click="UpQuantity()">+</button>
                                </div>
                                <div class="button clearfix">
                                    <div class="col-lg-6 col-sm-6 col-xs-6 col-xxs-12 p-l-0 p-r-xxs-0 m-b-10"><button id="add-to-cart" ng-click="addToCard()"><i class="glyphicon glyphicon-shopping-cart"></i> Thêm giỏ hàng</button></div>
                                    <div class="col-lg-6 col-sm-6 col-xs-6 col-xxs-12 p-r-0 p-l-xxs-0 m-b-10"><button id="buy-now" ng-click="addToCardBuy()"><i class="glyphicon glyphicon-ok"></i> Mua ngay</button></div>
                                </div>*@
                                @*<div class="button clearfix">
                                    <button class="btn btn-primary" disabled="disabled"><i class="glyphicon glyphicon-shopping-cart"></i> Hết hàng</button>
                                </div>*@
                                <div class="call">
                                    <p class="title">Để lại số điện thoại, chúng tôi sẽ tư vấn ngay sau từ 5 › 10 phút</p>
                                    <div class="input">
                                        <div class="input-group">
                                            <input class="form-control" ng-model="CustomerPhone" onblur="if(this.value=='')this.value='Nhập số điện thoại...'" onfocus="if(this.value=='Nhập số điện thoại...')this.value=''" value="Nhập số điện thoại..." type="text">
                                            <span class="input-group-btn">
                                                <button class="btn btn-primary" type="button" ng-click="callMe()"><i class="fa fa-phone"></i> Gọi lại cho tôi</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div role="tabpanel" class="product_description product-tabs panel-group">
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a data-toggle="tab" href="#tab1" role="tab">Chi tiết sản phẩm</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade in active">
                            <div class="container-fluid rte">
                                <p>- Cồi sò điệp là phần thịt được tách từ vỏ của sò điệp. Cồi sò điệp là phần ngon và quý nhất của sò, thịt trắng, dai, có vị giòn ngọt, tính hiền... Cồi sò điệp chứa nhiều dưỡng chất, vitamin và khoáng chất tốt cho sức khỏe, tăng sức đề kháng.</p>
                                <p>- Bản chất thịt cồi sò điệp ngọt thanh, mát nên các món ăn tiếp nối ra đời. Với những nguyên liệu không cầu kỳ nhưng làm ra những món ăn vô cùng đắt giá cho sức khỏe thì cồi sò điệp rất được yêu thích.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!--End-->
                <div class="modal fade" id="modalMyCart" tabindex="-1" role="dialog" aria-labelledby="modalMyCartLabel" aria-hidden="true">
                    <div class="modal-dialog  modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title" id="modalMyCartLabel">Bạn có {{OrderDetails.length}} sản phẩm trong giỏ hàng.</h4>
                            </div>
                            <div class="modal-body">
                                <table class="table" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Tên sản phẩm</th>
                                            <th>Số lượng</th>
                                            <th>Giá tiền</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="line-item" ng-repeat="item in OrderDetails">
                                            <td class="item-image">
                                                <img ng-src="{{item.ProductImage}}" class="img-responsive" style="max-height:60px;" />
                                            </td>
                                            <td class="item-title">
                                                <a href="/san-pham/{{item.ProductCode}}.html">
                                                    {{item.ProductName}}<br>
                                                    <span ng-if="item.IsVariant==true">{{item.VariantName}}</span>
                                                </a>
                                            </td>
                                            <td class="item-quantity">
                                                <input type="number" class="text" ng-model="item.Quantity" ng-change="updateItemCart(item)" />
                                            </td>
                                            <td class="item-price">{{item.Amount|number:0}}₫</td>
                                            <td class="item-delete"><a ng-click="removeItemCart(item)" href="javascript:void(0)">Xóa</a></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="modal-footer">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="total-price-modal">
                                            Tổng cộng : <span class="item-total">{{ Amount| number:0 }}₫</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row margin-top-10">
                                    <div class="col-lg-6">
                                        <div class="comeback text-left">
                                            <a href="/san-pham.html">
                                                <i class="fa fa-chevron-circle-left "></i> Tiếp tục mua hàng
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 text-right">
                                        <div class="buttons btn-modal-cart">
                                            <a class="btn btn-default" href="/thanh-toan.html">
                                                Đặt hàng
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade" id="modalCallMe" tabindex="-1" role="dialog" aria-labelledby="modalCallMeLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <h2>Cám ơn Qúy Khách đã liên hệ đặt hàng</h2>
                                <p>Shop sẽ gọi lại để tư vấn cho Quý khách hàng trong thời gian sớm nhất</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal">
                                    OK
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }

        @Html.Action("ProductOther", "Product", new { cateId = Model.CateId, top = 8 })
    </div>

    <div class="col-md-3">

        @Html.Partial("~/Views/Category/_MenuRight.cshtml")

        <div class="box-sale-policy">
            <h3><span>Chính sách bán hàng</span></h3>
            <div class="sale-policy-block">
                <ul>
                    <li>Giao hàng TOÀN QUỐC</li>
                    <li>Thanh toán khi nhận hàng</li>
                    <li>Đổi trả trong <span>15 ngày</span></li>
                    <li>Hoàn ngay tiền mặt</li>
                    <li>Chất lượng đảm bảo</li>
                    <li>Miễn phí vận chuyển:<span>Đơn hàng từ 3 món trở lên</span></li>
                </ul>
            </div>

            <div class="buy-guide">
                <h3>Hướng Dẫn Mua Hàng</h3>
                <ul>
                    <li>
                        Mua hàng trực tiếp tại website
                        <b> @Const.BaseUrlNoSlash</b>
                    </li>
                    <li>
                        Gọi điện thoại <strong>
                            @Const.Hotline
                        </strong> để mua hàng
                    </li>
                    <li>
                        Mua tại Trung tâm CSKH:<br>
                        <strong>@Const.Address</strong>
                        <a href="/ban-do" rel="nofollow" target="_blank">Xem Bản Đồ</a>
                    </li>
                    <li>
                        Mua sỉ/buôn xin gọi <strong>
                            @Const.Hotline
                        </strong> để được
                        hỗ trợ.
                    </li>
                </ul>
            </div>
        </div>


        @Html.Action("ProductHot", "Product", new { cateId = 1, top = 5 })

    </div>

</div>

@section scripts{
    <link href="/Scripts/lightgallery/css/lightgallery.css" rel="stylesheet" />
    <script src="/Scripts/lightgallery/js/lightgallery.js"></script>
    <script src="/Scripts/lightgallery/js/lg-fullscreen.js"></script>
    <script src="/Scripts/lightgallery/js/lg-thumbnail.js"></script>
    <script src="/Scripts/lightgallery/js/lg-zoom.js"></script>
    <script src="/Scripts/lightgallery/js/jquery.mousewheel.js"></script>
}